<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Object Constructors with closure</h2>

<p id="demo"></p>

<script>
   // Constructor function for Person objects
function Person(first, last, ageX, eye) {
  let age = ageX;
  //return an object by literal constructor
  return {                        //returned child function is an object literal which create a new object contains property functions can access parent's private variables
        setName: function (new_name) { name = new_name; },  //public function in returned child function can access parent function's private variables
        getage: function () { return age; },               //public function in returned child function can access parent function's private variables
        setId: function (new_id) { id = new_id; },           //public function in returned child function can access parent function's private variables
        getId: function () { return id; },                    //public function in returned child function can access parent function's private variables
        newProperty: "something fun"
	}
  //this.firstName = first;
  //this.lastName = last;
  //this.age = age;
  //this.eyeColor = eye;
}


// Create a Person object without new keyword. works only because constructor Person return a child function which is also an object's constructor
//literally, invoked function: Person(,,,); returns its child function here, which is a object has its peroperty functions.

let myFather = Person("John", "Doe", 50, "blue");      //do not need new key word here to create a new object because of the returned child function create an object by literal way

alert(myFather.age);       //undefined, because parent function's variable is private. only accessable to object's property functions.
alert(myFather.getage());  //50, get parent function's private variable value because of child function's definition

alert(myFather);           //[object Object]
alert(myFather.newProperty);    //something fun


</script>

</body>
</html>